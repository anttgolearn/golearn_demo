// Lesson structure system following Unit ‚Üí Chapter ‚Üí Lessons hierarchy
// Based on existing code patterns and video content organization

export type LessonType = 
  | 'Discover' 
  | 'Develop' 
  | 'Iconic' 
  | 'Dialog' 
  | 'Training' 
  | 'Review' 
  | 'Quiz'
  | 'Vokabel'
  | 'Info'
  | 'Explore';

export type QuestionCategory = 
  | 'CONTENT' 
  | 'SINGLE' 
  | 'MULTIPLE' 
  | 'CLOZE_ANSWER'
  // normalized lowercase variants for UI/flow rules
  | 'single'
  | 'multiple'
  | 'cloze_answer';

export const QuestionCategories = {
  CONTENT: {
    CAT_1A: '1a', // Video content - new sign introduction
    CAT_1C: '1c', // Video content - explanation with context
  },
  SINGLE: {
    CAT_2A: '2a', // Single choice - basic recognition
    CAT_2B: '2b', // Single choice - meaning identification
    CAT_2C: '2c', // Single choice - context usage
    CAT_2D: '2d', // Single choice - visual similarity
    CAT_2F: '2f', // Single choice - emotional context
    CAT_2G: '2g', // Single choice - gesture recognition
    CAT_2J: '2j', // Single choice - family relationships
    CAT_2K: '2k', // Single choice - daily objects
    CAT_2L: '2l', // Single choice - animals
    CAT_2M: '2m', // Single choice - numbers
    CAT_2N: '2n', // Single choice - colors/shapes
  },
  MULTIPLE: {
    CAT_3A: '3a', // Multiple choice - emotion combinations
    CAT_3B: '3b', // Multiple choice - object categories
    CAT_3C: '3c', // Multiple choice - context scenarios
  },
  CLOZE_ANSWER: {
    CAT_4A: '4a', // Fill gap - basic words
    CAT_4B: '4b', // Fill gap - sentences
    CAT_4C: '4c', // Fill gap - conversations
    CAT_4D: '4d', // Fill gap - emotional expressions
    CAT_4F: '4f', // Fill gap - family terms
    CAT_4G: '4g', // Fill gap - daily activities
    CAT_4Z: '4z', // Fill gap - complex scenarios
  },
} as const;

export interface VideoContent {
  title: string;
  videoUrl: string;
  label?: string;
  type: 'video';
}

export interface QuestionPart {
  type: 'video' | 'text' | 'image';
  content?: string;
  url?: string;
}

export interface AnswerOption {
  label: string;
  isCorrect: boolean;
  media?: {
    label: string;
    url: string;
    type: 'video' | 'image';
  };
}

export interface LessonQuestion {
  id: string;
  type: QuestionCategory;
  category: string; // QuestionCategories key
  prompt: string;
  title: string;
  questionParts: QuestionPart[];
  answerOptions: AnswerOption[];
  correctAnswer: string | string[] | boolean;
  explanation?: string;
  points?: number;
}

export interface Lesson {
  id: string;
  title: string;
  type: LessonType;
  description: string;
  questions: LessonQuestion[];
  estimatedTime: number; // in minutes
  difficulty: 'easy' | 'medium' | 'hard';
  prerequisites?: string[]; // lesson IDs
  unlockCondition?: string;
}

export interface Chapter {
  id: string;
  title: string;
  description: string;
  lessons: Lesson[];
  theme: string;
  estimatedTime: number;
}

export interface Unit {
  id: string;
  title: string;
  description: string;
  chapters: Chapter[];
  theme: string;
  color: string;
  icon: string;
}

// Lesson type configurations
export const LESSON_TYPE_CONFIG = {
  Discover: {
    icon: 'üîç',
    color: '#3B82F6', // blue
    description: 'Kh√°m ph√° k√Ω hi·ªáu m·ªõi',
    questionTypes: ['CONTENT', 'SINGLE'],
    difficulty: 'easy',
    estimatedTime: 5,
  },
  Develop: {
    icon: 'üå±',
    color: '#10B981', // emerald
    description: 'Ph√°t tri·ªÉn k·ªπ nƒÉng',
    questionTypes: ['SINGLE', 'MULTIPLE'],
    difficulty: 'medium',
    estimatedTime: 8,
  },
  Iconic: {
    icon: '‚≠ê',
    color: '#F59E0B', // amber
    description: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng',
    questionTypes: ['CONTENT', 'SINGLE'],
    difficulty: 'easy',
    estimatedTime: 4,
  },
  Dialog: {
    icon: 'üí¨',
    color: '#8B5CF6', // violet
    description: 'H·ªôi tho·∫°i th·ª±c t·∫ø',
    questionTypes: ['CLOZE_ANSWER', 'MULTIPLE'],
    difficulty: 'hard',
    estimatedTime: 12,
  },
  Training: {
    icon: 'üèãÔ∏è',
    color: '#EF4444', // red
    description: 'Luy·ªán t·∫≠p k·ªπ nƒÉng',
    questionTypes: ['SINGLE', 'MULTIPLE'],
    difficulty: 'medium',
    estimatedTime: 10,
  },
  Review: {
    icon: 'üìö',
    color: '#06B6D4', // cyan
    description: '√în t·∫≠p ki·∫øn th·ª©c',
    questionTypes: ['SINGLE', 'MULTIPLE', 'CLOZE_ANSWER'],
    difficulty: 'medium',
    estimatedTime: 15,
  },
  Quiz: {
    icon: 'üéØ',
    color: '#EC4899', // pink
    description: 'Ki·ªÉm tra ki·∫øn th·ª©c',
    questionTypes: ['SINGLE', 'MULTIPLE'],
    difficulty: 'hard',
    estimatedTime: 20,
  },
  Vokabel: {
    icon: 'üìñ',
    color: '#84CC16', // lime
    description: 'H·ªçc t·ª´ v·ª±ng',
    questionTypes: ['CONTENT', 'SINGLE'],
    difficulty: 'easy',
    estimatedTime: 6,
  },
  Info: {
    icon: '‚ÑπÔ∏è',
    color: '#6B7280', // gray
    description: 'Th√¥ng tin b·ªï sung',
    questionTypes: ['CONTENT'],
    difficulty: 'easy',
    estimatedTime: 3,
  },
  Explore: {
    icon: 'üß≠',
    color: '#F97316', // orange
    description: 'Kh√°m ph√° n√¢ng cao',
    questionTypes: ['CONTENT', 'SINGLE', 'MULTIPLE'],
    difficulty: 'hard',
    estimatedTime: 18,
  },
} as const;

// Unit structure with video-based content - All units follow Unit 1 format: Discover -> Iconic -> Discover (advanced) -> Practice -> Review
export const UNIT_STRUCTURE: Unit[] = [
  {
    id: 'unit-1',
    title: 'Giao ti·∫øp c∆° b·∫£n',
    description: 'H·ªçc c√°c k√Ω hi·ªáu giao ti·∫øp h√†ng ng√†y',
    theme: 'communication',
    color: '#3B82F6',
    icon: 'üëã',
    chapters: [
      {
        id: 'unit-1-chapter-1',
        title: 'Ch√†o h·ªèi v√† l·ªãch s·ª±',
        description: 'H·ªçc c√°ch ch√†o h·ªèi v√† n√≥i l·ªùi c·∫£m ∆°n',
        theme: 'greetings',
        estimatedTime: 29,
        lessons: [
          {
            id: '01_01_1-discover',
            title: 'Kh√°m ph√° ch√†o h·ªèi',
            type: 'Discover',
            description: 'H·ªçc c√°c k√Ω hi·ªáu ch√†o h·ªèi c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '01_01_2-practice',
            title: 'Luy·ªán t·∫≠p ch√†o h·ªèi',
            type: 'Training',
            description: 'Th·ª±c h√†nh c√°c k√Ω hi·ªáu ch√†o h·ªèi ƒë√£ h·ªçc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '01_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng ch√†o h·ªèi',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ ch√†o h·ªèi',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '01_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao ch√†o h·ªèi',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu ch√†o h·ªèi',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '01_01_5-review',
            title: '√în t·∫≠p ch√†o h·ªèi',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ ch√†o h·ªèi',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-1-chapter-2',
        title: 'Gia ƒë√¨nh v√† m·ªëi quan h·ªá',
        description: 'H·ªçc v·ªÅ c√°c th√†nh vi√™n gia ƒë√¨nh',
        theme: 'family',
        estimatedTime: 29,
        lessons: [
          {
            id: '01_02_1-discover',
            title: 'Kh√°m ph√° gia ƒë√¨nh',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu v·ªÅ gia ƒë√¨nh',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '01_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng gia ƒë√¨nh',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ gia ƒë√¨nh',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '01_02_3-discover-advanced',
            title: 'Kh√°m ph√° gia ƒë√¨nh n√¢ng cao',
            type: 'Discover',
            description: 'H·ªçc c√°c k√Ω hi·ªáu gia ƒë√¨nh n√¢ng cao v√† m·ªëi quan h·ªá',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '01_02_4-practice',
            title: 'Luy·ªán t·∫≠p gia ƒë√¨nh',
            type: 'Training',
            description: 'Th·ª±c h√†nh c√°c k√Ω hi·ªáu gia ƒë√¨nh ƒë√£ h·ªçc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '01_02_5-review',
            title: '√în t·∫≠p gia ƒë√¨nh',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ gia ƒë√¨nh',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-2',
    title: 'C·∫£m x√∫c v√† t√¢m tr·∫°ng',
    description: 'H·ªçc c√°ch bi·ªÉu ƒë·∫°t c·∫£m x√∫c qua k√Ω hi·ªáu',
    theme: 'emotions',
    color: '#EF4444',
    icon: 'üòä',
    chapters: [
      {
        id: 'unit-2-chapter-1',
        title: 'C·∫£m x√∫c c∆° b·∫£n',
        description: 'H·ªçc c√°c c·∫£m x√∫c ƒë∆°n gi·∫£n',
        theme: 'basic-emotions',
        estimatedTime: 29,
        lessons: [
          {
            id: '02_01_1-discover',
            title: 'Kh√°m ph√° c·∫£m x√∫c c∆° b·∫£n',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu c·∫£m x√∫c c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '02_01_2-practice',
            title: 'Luy·ªán t·∫≠p c·∫£m x√∫c',
            type: 'Training',
            description: 'Th·ª±c h√†nh bi·ªÉu ƒë·∫°t c·∫£m x√∫c qua k√Ω hi·ªáu',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '02_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ c·∫£m x√∫c c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '02_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao c·∫£m x√∫c',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu c·∫£m x√∫c',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '02_01_5-review',
            title: '√în t·∫≠p c·∫£m x√∫c',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ c·∫£m x√∫c c∆° b·∫£n',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-2-chapter-2',
        title: 'C·∫£m x√∫c n√¢ng cao',
        description: 'H·ªçc c√°c c·∫£m x√∫c ph·ª©c t·∫°p',
        theme: 'advanced-emotions',
        estimatedTime: 29,
        lessons: [
          {
            id: '02_02_1-discover',
            title: 'Kh√°m ph√° c·∫£m x√∫c n√¢ng cao',
            type: 'Discover',
            description: 'H·ªçc c√°c c·∫£m x√∫c ph·ª©c t·∫°p: T·ª± tin, Lo s·ª£, Ghen t·ªã, Tuy·ªát v·ªçng',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '02_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c n√¢ng cao',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ c·∫£m x√∫c n√¢ng cao',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '02_02_3-discover-advanced',
            title: 'Kh√°m ph√° c·∫£m x√∫c ƒë·∫∑c bi·ªát',
            type: 'Discover',
            description: 'H·ªçc c√°c c·∫£m x√∫c ƒë·∫∑c bi·ªát v√† tinh t·∫ø',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '02_02_4-practice',
            title: 'Luy·ªán t·∫≠p c·∫£m x√∫c n√¢ng cao',
            type: 'Training',
            description: 'Th·ª±c h√†nh c√°c k√Ω hi·ªáu c·∫£m x√∫c n√¢ng cao ƒë√£ h·ªçc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '02_02_5-review',
            title: '√în t·∫≠p c·∫£m x√∫c n√¢ng cao',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ c·∫£m x√∫c n√¢ng cao',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-3',
    title: 'Thi√™n nhi√™n v√† ƒë·ªông v·∫≠t',
    description: 'H·ªçc v·ªÅ th·∫ø gi·ªõi t·ª± nhi√™n v√† ƒë·ªông v·∫≠t',
    theme: 'nature',
    color: '#10B981',
    icon: 'üåø',
    chapters: [
      {
        id: 'unit-3-chapter-1',
        title: 'ƒê·ªông v·∫≠t th∆∞·ªùng g·∫∑p',
        description: 'H·ªçc c√°c k√Ω hi·ªáu v·ªÅ ƒë·ªông v·∫≠t quen thu·ªôc',
        theme: 'animals',
        estimatedTime: 29,
        lessons: [
          {
            id: '03_01_1-discover',
            title: 'Kh√°m ph√° ƒë·ªông v·∫≠t',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·ªông v·∫≠t c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '03_01_2-practice',
            title: 'Luy·ªán t·∫≠p ƒë·ªông v·∫≠t',
            type: 'Training',
            description: 'Th·ª±c h√†nh nh·∫≠n bi·∫øt v√† s·ª≠ d·ª•ng k√Ω hi·ªáu ƒë·ªông v·∫≠t',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '03_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng ƒë·ªông v·∫≠t',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ ƒë·ªông v·∫≠t',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '03_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao ƒë·ªông v·∫≠t',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu ƒë·ªông v·∫≠t',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '03_01_5-review',
            title: '√în t·∫≠p ƒë·ªông v·∫≠t',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ ƒë·ªông v·∫≠t',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-3-chapter-2',
        title: 'Th·ªùi ti·∫øt v√† th·ªùi gian',
        description: 'H·ªçc k√Ω hi·ªáu th·ªùi ti·∫øt v√† th·ªùi gian',
        theme: 'weather',
        estimatedTime: 29,
        lessons: [
          {
            id: '03_02_1-discover',
            title: 'Kh√°m ph√° th·ªùi ti·∫øt',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu th·ªùi ti·∫øt c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '03_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng th·ªùi ti·∫øt',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ th·ªùi ti·∫øt',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '03_02_3-discover-advanced',
            title: 'Kh√°m ph√° th·ªùi gian',
            type: 'Discover',
            description: 'H·ªçc t·ª´ v·ª±ng v·ªÅ th·ªùi gian: S√°ng, Bu·ªïi s√°ng, Bu·ªïi chi·ªÅu',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '03_02_4-practice',
            title: 'Luy·ªán t·∫≠p th·ªùi ti·∫øt',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu th·ªùi ti·∫øt v√† th·ªùi gian',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '03_02_5-review',
            title: '√în t·∫≠p th·ªùi ti·∫øt',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ th·ªùi ti·∫øt v√† th·ªùi gian',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-4',
    title: 'S·ªë ƒë·∫øm v√† h√¨nh h·ªçc',
    description: 'H·ªçc v·ªÅ s·ªë v√† h√¨nh d·∫°ng c∆° b·∫£n',
    theme: 'numbers',
    color: '#F59E0B',
    icon: 'üî¢',
    chapters: [
      {
        id: 'unit-4-chapter-1',
        title: 'S·ªë ƒë·∫øm c∆° b·∫£n',
        description: 'H·ªçc c√°c k√Ω hi·ªáu s·ªë t·ª´ 1-10',
        theme: 'counting',
        estimatedTime: 29,
        lessons: [
          {
            id: '04_01_1-discover',
            title: 'Kh√°m ph√° s·ªë ƒë·∫øm',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu s·ªë ƒë·∫øm c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '04_01_2-practice',
            title: 'Luy·ªán t·∫≠p s·ªë ƒë·∫øm',
            type: 'Training',
            description: 'Th·ª±c h√†nh nh·∫≠n bi·∫øt v√† s·ª≠ d·ª•ng k√Ω hi·ªáu s·ªë ƒë·∫øm',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '04_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng s·ªë',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ s·ªë ƒë·∫øm',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '04_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao s·ªë ƒë·∫øm',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu s·ªë ƒë·∫øm',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '04_01_5-review',
            title: '√în t·∫≠p s·ªë ƒë·∫øm',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ s·ªë ƒë·∫øm',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-4-chapter-2',
        title: 'H√¨nh d·∫°ng v√† m√†u s·∫Øc',
        description: 'H·ªçc k√Ω hi·ªáu h√¨nh d·∫°ng v√† m√†u s·∫Øc',
        theme: 'shapes',
        estimatedTime: 29,
        lessons: [
          {
            id: '04_02_1-discover',
            title: 'Kh√°m ph√° h√¨nh h·ªçc',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu h√¨nh d·∫°ng c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '04_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng h√¨nh h·ªçc',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ h√¨nh d·∫°ng',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '04_02_3-discover-advanced',
            title: 'Kh√°m ph√° m√†u s·∫Øc',
            type: 'Discover',
            description: 'H·ªçc t·ª´ v·ª±ng v·ªÅ m√†u s·∫Øc: M√†u ƒë·ªè v√† c√°c m√†u kh√°c',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '04_02_4-practice',
            title: 'Luy·ªán t·∫≠p h√¨nh h·ªçc',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu h√¨nh d·∫°ng v√† m√†u s·∫Øc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '04_02_5-review',
            title: '√în t·∫≠p h√¨nh h·ªçc',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ h√¨nh d·∫°ng v√† m√†u s·∫Øc',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-5',
    title: 'Th·ª©c ƒÉn v√† ƒë·ªì v·∫≠t',
    description: 'H·ªçc v·ªÅ ƒë·ªì ƒÉn v√† v·∫≠t d·ª•ng h√†ng ng√†y',
    theme: 'food',
    color: '#8B5CF6',
    icon: 'üçé',
    chapters: [
      {
        id: 'unit-5-chapter-1',
        title: 'Th·ª©c ƒÉn v√† b·ªØa ƒÉn',
        description: 'H·ªçc c√°c k√Ω hi·ªáu v·ªÅ th·ª©c ƒÉn',
        theme: 'food-items',
        estimatedTime: 29,
        lessons: [
          {
            id: '05_01_1-discover',
            title: 'Kh√°m ph√° th·ª©c ƒÉn',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu th·ª©c ƒÉn c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '05_01_2-practice',
            title: 'Luy·ªán t·∫≠p th·ª©c ƒÉn',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu th·ª©c ƒÉn v√† b·ªØa ƒÉn',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '05_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng th·ª©c ƒÉn',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ th·ª©c ƒÉn',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '05_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao th·ª©c ƒÉn',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu th·ª©c ƒÉn',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '05_01_5-review',
            title: '√în t·∫≠p th·ª©c ƒÉn',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ th·ª©c ƒÉn',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-5-chapter-2',
        title: 'ƒê·ªì v·∫≠t trong nh√†',
        description: 'H·ªçc k√Ω hi·ªáu ƒë·ªì v·∫≠t trong nh√†',
        theme: 'household',
        estimatedTime: 29,
        lessons: [
          {
            id: '05_02_1-discover',
            title: 'Kh√°m ph√° ƒë·ªì v·∫≠t',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·ªì v·∫≠t c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '05_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng ƒë·ªì v·∫≠t',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ ƒë·ªì v·∫≠t',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '05_02_3-discover-advanced',
            title: 'Kh√°m ph√° ƒë·ªì v·∫≠t c√° nh√¢n',
            type: 'Discover',
            description: 'H·ªçc t·ª´ v·ª±ng v·ªÅ ƒë·ªì v·∫≠t: C√¢y b√∫t, Quy·ªÉn s√°ch, Qu·∫ßn b√≤, C√°i √°o',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '05_02_4-practice',
            title: 'Luy·ªán t·∫≠p ƒë·ªì v·∫≠t',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu ƒë·ªì v·∫≠t trong nh√†',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '05_02_5-review',
            title: '√în t·∫≠p ƒë·ªì v·∫≠t',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ ƒë·ªì v·∫≠t',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-6',
    title: 'Giao th√¥ng v√† ho·∫°t ƒë·ªông',
    description: 'H·ªçc v·ªÅ ph∆∞∆°ng ti·ªán v√† ho·∫°t ƒë·ªông',
    theme: 'transportation',
    color: '#EC4899',
    icon: 'üöó',
    chapters: [
      {
        id: 'unit-6-chapter-1',
        title: 'Ph∆∞∆°ng ti·ªán giao th√¥ng',
        description: 'H·ªçc c√°c k√Ω hi·ªáu v·ªÅ ph∆∞∆°ng ti·ªán',
        theme: 'vehicles',
        estimatedTime: 29,
        lessons: [
          {
            id: '06_01_1-discover',
            title: 'Kh√°m ph√° giao th√¥ng',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu giao th√¥ng c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '06_01_2-practice',
            title: 'Luy·ªán t·∫≠p giao th√¥ng',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu ph∆∞∆°ng ti·ªán giao th√¥ng',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '06_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng giao th√¥ng',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ giao th√¥ng',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '06_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao giao th√¥ng',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu giao th√¥ng',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '06_01_5-review',
            title: '√în t·∫≠p giao th√¥ng',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ giao th√¥ng',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-6-chapter-2',
        title: 'Ho·∫°t ƒë·ªông v√† s·ªü th√≠ch',
        description: 'H·ªçc k√Ω hi·ªáu ho·∫°t ƒë·ªông v√† s·ªü th√≠ch',
        theme: 'activities',
        estimatedTime: 29,
        lessons: [
          {
            id: '06_02_1-discover',
            title: 'Kh√°m ph√° ho·∫°t ƒë·ªông',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu ho·∫°t ƒë·ªông c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '06_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng ho·∫°t ƒë·ªông',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ ho·∫°t ƒë·ªông',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '06_02_3-discover-advanced',
            title: 'Kh√°m ph√° s·ªü th√≠ch',
            type: 'Discover',
            description: 'M·ªü r·ªông v·ªën t·ª´ v·ªÅ ho·∫°t ƒë·ªông v√† s·ªü th√≠ch',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '06_02_4-practice',
            title: 'Luy·ªán t·∫≠p ho·∫°t ƒë·ªông',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu ho·∫°t ƒë·ªông v√† s·ªü th√≠ch',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '06_02_5-review',
            title: '√în t·∫≠p ho·∫°t ƒë·ªông',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ ho·∫°t ƒë·ªông',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
  {
    id: 'unit-7',
    title: 'Tr∆∞·ªùng h·ªçc v√† c√¥ng vi·ªác',
    description: 'H·ªçc v·ªÅ tr∆∞·ªùng h·ªçc v√† c√¥ng vi·ªác',
    theme: 'education',
    color: '#06B6D4',
    icon: 'üéì',
    chapters: [
      {
        id: 'unit-7-chapter-1',
        title: 'Cu·ªôc s·ªëng h·ªçc ƒë∆∞·ªùng',
        description: 'H·ªçc k√Ω hi·ªáu tr∆∞·ªùng h·ªçc v√† h·ªçc t·∫≠p',
        theme: 'school',
        estimatedTime: 29,
        lessons: [
          {
            id: '07_01_1-discover',
            title: 'Kh√°m ph√° tr∆∞·ªùng h·ªçc',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu tr∆∞·ªùng h·ªçc c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '07_01_2-practice',
            title: 'Luy·ªán t·∫≠p tr∆∞·ªùng h·ªçc',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu tr∆∞·ªùng h·ªçc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '07_01_3-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng tr∆∞·ªùng h·ªçc',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ tr∆∞·ªùng h·ªçc',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '07_01_4-practice-advanced',
            title: 'Luy·ªán t·∫≠p n√¢ng cao tr∆∞·ªùng h·ªçc',
            type: 'Training',
            description: 'Th·ª±c h√†nh n√¢ng cao c√°c k√Ω hi·ªáu tr∆∞·ªùng h·ªçc',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '07_01_5-review',
            title: '√în t·∫≠p tr∆∞·ªùng h·ªçc',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ tr∆∞·ªùng h·ªçc',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
      {
        id: 'unit-7-chapter-2',
        title: 'C√¥ng vi·ªác v√† ti·ªÅn b·∫°c',
        description: 'H·ªçc k√Ω hi·ªáu c√¥ng vi·ªác v√† ti·ªÅn b·∫°c',
        theme: 'work',
        estimatedTime: 29,
        lessons: [
          {
            id: '07_02_1-discover',
            title: 'Kh√°m ph√° c√¥ng vi·ªác',
            type: 'Discover',
            description: 'H·ªçc k√Ω hi·ªáu c√¥ng vi·ªác c∆° b·∫£n',
            difficulty: 'easy',
            estimatedTime: 5,
            questions: [],
          },
          {
            id: '07_02_2-iconic',
            title: 'K√Ω hi·ªáu bi·ªÉu t∆∞·ª£ng c√¥ng vi·ªác',
            type: 'Iconic',
            description: 'H·ªçc k√Ω hi·ªáu ƒë·∫∑c tr∆∞ng v·ªÅ c√¥ng vi·ªác',
            difficulty: 'easy',
            estimatedTime: 4,
            questions: [],
          },
          {
            id: '07_02_3-discover-advanced',
            title: 'Kh√°m ph√° ti·ªÅn b·∫°c',
            type: 'Discover',
            description: 'M·ªü r·ªông v·ªën t·ª´ v·ªÅ c√¥ng vi·ªác v√† ti·ªÅn b·∫°c',
            difficulty: 'easy',
            estimatedTime: 6,
            questions: [],
          },
          {
            id: '07_02_4-practice',
            title: 'Luy·ªán t·∫≠p c√¥ng vi·ªác',
            type: 'Training',
            description: 'Th·ª±c h√†nh k√Ω hi·ªáu c√¥ng vi·ªác v√† ti·ªÅn b·∫°c',
            difficulty: 'medium',
            estimatedTime: 8,
            questions: [],
          },
          {
            id: '07_02_5-review',
            title: '√în t·∫≠p c√¥ng vi·ªác',
            type: 'Review',
            description: 'T·ªïng h·ª£p ki·∫øn th·ª©c v·ªÅ c√¥ng vi·ªác',
            difficulty: 'medium',
            estimatedTime: 6,
            questions: [],
          },
        ],
      },
    ],
  },
];

// Utility functions for lesson management
export const getLessonById = (lessonId: string): Lesson | undefined => {
  for (const unit of UNIT_STRUCTURE) {
    for (const chapter of unit.chapters) {
      const lesson = chapter.lessons.find(l => l.id === lessonId);
      if (lesson) return lesson;
    }
  }
  return undefined;
};

export const getChapterByLessonId = (lessonId: string): Chapter | undefined => {
  for (const unit of UNIT_STRUCTURE) {
    for (const chapter of unit.chapters) {
      const lesson = chapter.lessons.find(l => l.id === lessonId);
      if (lesson) return chapter;
    }
  }
  return undefined;
};

export const getUnitByLessonId = (lessonId: string): Unit | undefined => {
  for (const unit of UNIT_STRUCTURE) {
    for (const chapter of unit.chapters) {
      const lesson = chapter.lessons.find(l => l.id === lessonId);
      if (lesson) return unit;
    }
  }
  return undefined;
};

export const getLessonTypeConfig = (lessonType: LessonType) => {
  return LESSON_TYPE_CONFIG[lessonType];
};

export const getQuestionsByCategory = (_category: string): LessonQuestion[] => {
  // This would be populated with actual video-based questions
  // based on the category and available videos
  return [];
};

// Video content integration functions
export const createVideoQuestion = (
  id: string,
  category: string,
  prompt: string,
  videoSrc: string,
  correctLabel: string,
  distractorLabels: string[],
  distractorVideos: string[]
): LessonQuestion => {
  const answerOptions: AnswerOption[] = [
    {
      label: correctLabel,
      isCorrect: true,
      media: {
        label: correctLabel,
        url: videoSrc,
        type: 'video',
      },
    },
    ...distractorLabels.map((label, index) => ({
      label,
      isCorrect: false,
      media: {
        label,
        url: distractorVideos[index] || videoSrc,
        type: 'video' as const,
      },
    })),
  ];

  return {
    id,
    type: 'SINGLE',
    category,
    prompt,
    title: correctLabel,
    questionParts: [
      {
        type: 'video',
        content: correctLabel,
        url: videoSrc,
      },
    ],
    answerOptions,
    correctAnswer: correctLabel,
  };
};

export const createContentQuestion = (
  id: string,
  category: string,
  prompt: string,
  videoSrc: string,
  title: string
): LessonQuestion => {
  return {
    id,
    type: 'CONTENT',
    category,
    prompt,
    title,
    questionParts: [
      {
        type: 'video',
        content: title,
        url: videoSrc,
      },
    ],
    answerOptions: [],
    correctAnswer: '',
  };
};
